/* read.js v0.8 (c) 2013 Atsushi Mizoue. */(function(m,h,k,w,x,s,t,n){var p,l,q,u,r,v;l=function(a){throw Error("not found "+a);};r=function(a){return a+x};p=function(a){var c,b;a=a.split(".");b=m;for(c in a)if(b=b[a[c]],!b)break;return b};q=function(a,c){var b,d;b="";d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b="\n"+d.responseText:l(a),c&&c(b))};d.open("GET",r(a),!!c);d.send();return b};v=function(a){h.head.appendChild(h.createElement(t)).text=q(a)};(u=m.read=function(a,c){var b;p(a)||(c&&!k[c]?
(k[c+=n]=!0,v(c)):l(a));(b=p(a))||l(a);return b}).ns=function(a,c){var b,d,f,e;a=a.split(".");b=0;d=a.length;for(e=m;b<d;)f=e,e=e[a[b]]?e[a[b]]:e[a[b]]={},b++;if(c){for(b in e)void 0===c[b]&&(c[b]=e[b]);e=f[a[d-1]]=c}return e};u.run=function(a){var c,b,d,f,e,g;a+=n;e=[];d={};g="";c=function(a){e.unshift(a);k[a]||(k[a]=1,a.match(/^(\/\/|http)/)?(console.log(a),e.unshift(a),f()):(console.log(a),q(a,function(a){g=a+g;f()})))};f=function(){var a,d;(a=g.match(w))?(d=a[1]+n,g=g.slice(a.index+a[0].length),
e.unshift(d),c(d)):b()};b=function(){var a,c,f;if(f=e.shift())d[f]?b():(d[f]=1,c=h.createElement(t),a=function(){c.removeEventListener(s,a);b()},c.addEventListener(s,a),c.src=r(f),h.head.appendChild(c))};c(a)}})(window,document,{},/[=,;:&\n\(\|]\s*read\(.+?,\s*['"](.+?)['"]\)/,"?"+1*new Date,"load","script",".js");
